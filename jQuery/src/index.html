<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="/node_modules/devextreme/dist/css/dx.common.css" />
    <link rel="stylesheet" type="text/css"
          href="/node_modules/devextreme/dist/css/dx.light.css" />
    <script type="text/javascript" src="/node_modules/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="/node_modules/devextreme/dist/js/dx.all.js"></script>
	<script type="text/javascript" src="data.js"></script>

    <script>

		function getFilteredAndSortedData(){
		  const grid = $('#gridContainer').dxDataGrid("instance");
		  const filterExpr = grid.getCombinedFilter(true);
		  const dataSource = grid.getDataSource();
		  const loadOptions = dataSource.loadOptions();

		  dataSource
			.store()
			.load({ filter: filterExpr, sort: loadOptions.sort, group: loadOptions.group })
			.then((result) => {
				// your code...
              $("#secdiv").dxDataGrid("instance").option("dataSource", result)
			});
		}

		$(() => {
			$('#gridContainer').dxDataGrid({
				dataSource: orders,
				keyExpr: 'ID',
				columnsAutoWidth: true,
				showBorders: true,
				filterRow: {
				  visible: true
				},
				searchPanel: {
				  visible: true
				},
				headerFilter: {
				  visible: true
				}
			});
            let second_grid = $("#secdiv").dxDataGrid({
              dataSource: [],
              keyExpr: 'ID',
              columnsAutoWidth: true,
              showBorders: true,
            }).dxDataGrid("instance")
		})
    </script>
  </head>

  <body>
    <div>
      <button onclick="getFilteredAndSortedData()">
        Get All Filtered And Sorted Data
      </button>
      <div id="gridContainer"></div>
      <br>
      <div id="secdiv"> </div>
    </div>
  </body>
</html>
